{% extends 'my_app/base.html' %}
{% load static %}
{% block title %}API ë¬¸ì„œ ê²€ìƒ‰{% endblock %}

{% block content %}
<link rel="stylesheet" href="{% static 'my_app/css/chat/chat.css' %}">
<link rel="stylesheet" href="{% static 'my_app/css/docsearch/sidebar.css' %}">

<div class="layout">
  <!-- ë©”ì¸ ì˜ì—­ -->
  <div class="main-pane">
    <div class="content-header">
      <div class="search-bar">
        <input type="text" placeholder="ê²€ìƒ‰ì°½ì— ë¬¸ì„œ ë‚´ìš©ì„ ì°¾ì•„ë³´ì„¸ìš”">
        <button type="submit">ğŸ”</button>
      </div>
      <button id="btnCardSelect">ì¹´ë“œë§Œë“¤ê¸°</button>
      <button id="btnCardSave">ì¹´ë“œ ì €ì¥</button>
      <span id="selCount" style="margin-left:8px;color:#666;display:none;">0ê°œ ì„ íƒ</span>
    </div>

    <div class="chat-area">
      <h2></h2>
      <ul id="chatLog" class="chat-log"></ul>
    </div>

    <div class="chat-input-area">
      <button id="uploadBtn">ì‚¬ì§„ ì—…ë¡œë“œ</button>
      <input id="chatInput" type="text" placeholder="ì§ˆë¬¸í•˜ëŠ” INPUT ì˜ì—­">
      <button id="voiceBtn">ğŸ¤</button>
      <button id="sendBtn">ë³´ë‚´ê¸°</button>
    </div>
  </div>

  <!-- ë¬¸ì„œ ê²€ìƒ‰ -->
  <aside class="right-sidebar" id="docSearchSidebar" aria-label="ë¬¸ì„œ ê²€ìƒ‰ ì‚¬ì´ë“œë°”" data-endpoint="/main/api/docsearch/">
    <header class="sidebar-header">
      <h3>ë¬¸ì„œ ê²€ìƒ‰</h3>
      <div class="sidebar-search">
        <input id="docSearchInput" type="text" placeholder="í‚¤ì›Œë“œ ì…ë ¥ (ì˜ˆ: bigquery delete)">
        <button id="docSearchBtn" type="button" title="ê²€ìƒ‰">ğŸ”</button>
      </div>
      <div class="sidebar-sub">
        <label class="sim-th">ìœ ì‚¬ë„ ì„ê³„ê°’</label>
        <input id="similarityThreshold" type="number" min="0" max="1" step="0.01" value="0.6">
      </div>
    </header>

    <div class="sidebar-body">
      <div id="docSearchStatus" class="status">ê²€ìƒ‰ ëŒ€ê¸° ì¤‘â€¦</div>
      <ul id="docSearchResults" class="results"></ul>
    </div>

    <footer class="sidebar-footer">
      <span id="docSearchCount" class="count">0ê±´</span>
      <button id="copyAllBtn" class="ghost">URL ëª¨ë‘ ë³µì‚¬</button>
    </footer>
  </aside>
</div>

<script src="{% static 'my_app/js/chat/chat.js' %}"></script>
<script src="{% static 'my_app/js/docsearch/sidebar.js' %}"></script>
{% endblock %}
