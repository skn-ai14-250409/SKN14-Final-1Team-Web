{% extends 'my_app/base.html' %}
{% load static %}
{% block title %}API ë¬¸ì„œ ê²€ìƒ‰{% endblock %}

{% block content %}
<link rel="stylesheet" href="{% static 'my_app/css/chat/chat.css' %}">
<link rel="stylesheet" href="{% static 'my_app/css/docsearch/sidebar.css' %}">

<div class="layout">
  <!-- ë©”ì¸ ì˜ì—­ -->
  <div class="main-pane">
    <div class="content-header content-header--split">
      <div class="left-group">
        <button id="btnCardSelect">ì¹´ë“œë§Œë“¤ê¸°</button>
        <button id="btnCardSave">ì¹´ë“œ ì €ì¥</button>
        <span id="selCount" style="margin-left:8px;color:#666;display:none;">0ê°œ ì„ íƒ</span>
      </div>
      <div class="right-group">
      </div>
    </div>

    <div class="chat-area">
      <h2></h2>
      <ul id="chatLog" class="chat-log"></ul>
    </div>

    <!-- ì´ë¯¸ì§€ ë¯¸ë¦¬ë³´ê¸° ì»¨í…Œì´ë„ˆ ì¶”ê°€ -->
    <div id="imagePreview" style="margin: 10px 0; padding: 10px; border: 1px solid #ddd; border-radius: 5px; display: none;"></div>

    <div class="chat-input-area">
        <button id="uploadBtn">ì‚¬ì§„ ì—…ë¡œë“œ</button>
        <input type="file" id="imageInput" accept="image/*" style="display: none;">
        <input id="chatInput" type="text" placeholder="ì§ˆë¬¸í•˜ëŠ” INPUT ì˜ì—­">
        <button id="voiceBtn" aria-label="ìŒì„± ë…¹ìŒ">
          <svg viewBox="0 0 24 24" width="20" height="20" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true">
            <path d="M12 1.75a3.25 3.25 0 0 0-3.25 3.25v6a3.25 3.25 0 1 0 6.5 0v-6A3.25 3.25 0 0 0 12 1.75z"/>
            <path d="M5 11.5a7 7 0 0 0 14 0"/>
            <path d="M12 18.5v3"/>
          </svg>
        </button>
        <button id="sendBtn">ë³´ë‚´ê¸°</button>
    </div>
  </div>

  <!-- ë¬¸ì„œ ê²€ìƒ‰ -->
  <aside class="right-sidebar" id="docSearchSidebar" aria-label="ë¬¸ì„œ ê²€ìƒ‰ ì‚¬ì´ë“œë°”" data-endpoint="/main/api/docsearch/">
    <header class="sidebar-header">
      <h3>ë¬¸ì„œ ê²€ìƒ‰</h3>
      <div class="sidebar-search">
        <input id="docSearchInput" type="text" placeholder="í‚¤ì›Œë“œ ì…ë ¥ (ì˜ˆ: bigquery delete)">
        <button id="docSearchBtn" type="button" title="ê²€ìƒ‰">ğŸ”</button>
      </div>
      <div class="sidebar-sub">
        <label class="sim-th">ìœ ì‚¬ë„ ì„ê³„ê°’</label>
        <input id="similarityThreshold" type="number" min="0" max="1" step="0.01" value="0.6">
      </div>
    </header>

    <div class="sidebar-body">
      <div id="docSearchStatus" class="status">ê²€ìƒ‰ ëŒ€ê¸° ì¤‘â€¦</div>
      <ul id="docSearchResults" class="results"></ul>
    </div>


    <footer class="sidebar-footer">
      <span id="docSearchCount" class="count">0ê±´</span>
      <button id="copyAllBtn" class="ghost">URL ëª¨ë‘ ë³µì‚¬</button>
    </footer>
  </aside>
</div>
<script src="{% static 'my_app/js/chat/chat.js' %}"></script>
<script src="{% static 'my_app/js/docsearch/sidebar.js' %}"></script>
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
{% endblock %}
